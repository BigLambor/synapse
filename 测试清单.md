# Synapse - 功能测试清单

## 🎯 测试目标
验证所有修复的功能都正常工作，特别是：
1. 菜单链接
2. 角色切换
3. 仪表盘定位

---

## ✅ 测试流程

### 1. Landing页面测试

**访问**: http://localhost:5173/

**验证项**:
- [ ] 页面正常加载，显示Synapse标题
- [ ] 显示3个角色选择卡片（张三, 李四, 王五）
- [ ] Hover卡片时有缩放和边框高亮效果
- [ ] 显示3个核心指标（50%、3x、90%）
- [ ] 显示4个功能卡片（数据入湖、智能搜索、团队协作、实时监控）

**角色选择测试**:
1. **点击张三卡片**:
   - [ ] 自动跳转到 `/exploration`
   - [ ] Header显示"张三 - 数据工程师"
   - [ ] 导航菜单不显示"Director视角"

2. **返回首页，点击李四卡片**:
   - [ ] 自动跳转到 `/model-optimization`
   - [ ] Header显示"李四 - AI工程师"
   - [ ] 导航菜单不显示"Director视角"

3. **返回首页，点击王五卡片**:
   - [ ] 自动跳转到 `/dashboard`
   - [ ] Header显示"王五 - 技术总监"
   - [ ] ⭐ **导航菜单显示"Director视角"链接**

---

### 2. 导航菜单测试

**前置条件**: 以任意角色登录

**测试每个菜单项**:
- [ ] 点击"首页" → 跳转到 `/` ✅
- [ ] 点击"数据入湖" → 跳转到 `/ingestion` ✅
- [ ] 点击"数据处理" → 跳转到 `/processing` ✅
- [ ] 点击"智能探索" → 跳转到 `/exploration` ✅
- [ ] 点击"团队协作" → 跳转到 `/collaboration` ✅
- [ ] 点击"模型优化" → 跳转到 `/model-optimization` ✅

**王五角色特殊测试**:
- [ ] 以王五角色登录
- [ ] 验证导航菜单中出现"Director视角"
- [ ] 点击"Director视角" → 跳转到 `/dashboard` ✅

---

### 3. 团队协作页面 - 角色切换测试

**访问**: http://localhost:5173/collaboration

**前置条件**: 以任意角色登录

**验证页面元素**:
- [ ] 页面顶部显示3个团队成员卡片
- [ ] 当前用户的卡片有蓝色边框高亮
- [ ] 显示"张三的洞察看板"和"李四的任务队列"
- [ ] 显示协作动态列表

**角色切换测试**:
1. **点击张三卡片**:
   - [ ] 卡片边框变为蓝色高亮
   - [ ] Header右上角显示"张三 - 数据工程师"，头像为👩
   - [ ] 出现成功通知："已切换到 张三"

2. **点击李四卡片**:
   - [ ] 李四卡片边框变为蓝色高亮
   - [ ] Header右上角显示"李四 - AI工程师"，头像为👨
   - [ ] 出现成功通知："已切换到 李四"

3. **点击王五卡片**:
   - [ ] 王五卡片边框变为蓝色高亮
   - [ ] Header右上角显示"王五 - 技术总监"，头像为👩‍💼
   - [ ] 出现成功通知："已切换到 王五"
   - [ ] ⭐ **导航菜单中出现"Director视角"链接**

4. **跨页面状态持久化**:
   - [ ] 在Collaboration页切换到李四
   - [ ] 点击导航到"智能探索"
   - [ ] Header仍然显示"李四"
   - [ ] 返回Collaboration页，李四卡片仍然高亮

---

### 4. Dashboard页面（Director视角）测试

**访问方式1**: Landing页选择王五角色

**访问方式2**: 以王五角色登录后，点击导航菜单"Director视角"

**验证项**:
- [ ] 页面标题显示"Director 观察者视角"
- [ ] 显示王五的头像图标（👩‍💼）
- [ ] 显示角色徽章："💡 王五 专属视角 - 全局监控与决策支持"
- [ ] 显示4个核心指标卡片
- [ ] 显示"数据入湖趋势"图表
- [ ] 显示"资产类型分布"图表
- [ ] 显示"处理效率趋势"图表
- [ ] 显示"近期活动"列表

---

### 5. 跨页面状态测试

**测试场景**: 验证用户状态在所有页面保持一致

1. **初始状态**:
   - [ ] 从Landing页选择张三
   - [ ] 验证Header显示张三

2. **页面跳转**:
   - [ ] 点击"数据入湖" → Header仍显示张三 ✅
   - [ ] 点击"数据处理" → Header仍显示张三 ✅
   - [ ] 点击"智能探索" → Header仍显示张三 ✅
   - [ ] 点击"模型优化" → Header仍显示张三 ✅

3. **角色切换后**:
   - [ ] 在任意页面切换到王五（通过Collaboration页）
   - [ ] 导航菜单立即出现"Director视角"
   - [ ] 访问其他页面，"Director视角"始终可见
   - [ ] Header始终显示王五的信息

---

### 6. 响应式布局测试

**桌面端** (> 768px):
- [ ] Landing页角色卡片横向排列
- [ ] Header显示完整导航菜单
- [ ] Dashboard图表正常显示

**移动端** (< 768px):
- [ ] Landing页角色卡片纵向排列
- [ ] Header导航菜单隐藏（显示汉堡菜单图标）
- [ ] 卡片和图表响应式调整

---

## 🐛 已知问题 & 预期行为

### ✅ 正常行为
1. **导航菜单动态变化**: 王五角色下会多显示"Director视角"链接 - 这是预期的功能
2. **角色切换后立即生效**: 切换角色后，Header和导航立即更新 - 正确
3. **首次访问无角色**: 如果直接访问非Landing页，默认显示张三 - 这是兜底逻辑

### ⚠️ 注意事项
1. **刷新页面**: 当前用户状态存储在内存中，刷新页面会重置为默认用户（张三）
   - **未来优化**: 可以使用localStorage持久化用户状态

---

## 📊 测试结果记录

| 测试项 | 状态 | 备注 |
|-------|------|------|
| Landing页加载 | ⬜ |  |
| 角色选择 - 张三 | ⬜ |  |
| 角色选择 - 李四 | ⬜ |  |
| 角色选择 - 王五 | ⬜ |  |
| 导航菜单 - 所有链接 | ⬜ |  |
| 王五专属 - Director视角显示 | ⬜ |  |
| Collaboration - 角色切换 | ⬜ |  |
| Dashboard - 页面显示 | ⬜ |  |
| 跨页面状态持久化 | ⬜ |  |
| 响应式布局 | ⬜ |  |

**图例**: 
- ⬜ 待测试
- ✅ 通过
- ❌ 失败
- ⚠️ 有问题但可接受

---

## 🚀 快速测试命令

```bash
# 启动开发服务器
cd /Users/isadmin/StudyCursor/synapse/synapse
npm run dev

# 浏览器访问
open http://localhost:5173
```

---

## 📝 测试完成后

如果所有测试通过：
- ✅ 项目已达到完美状态
- ✅ 所有核心功能正常工作
- ✅ 符合设计文档要求

如果发现问题：
1. 记录具体的错误现象
2. 提供复现步骤
3. 检查浏览器控制台错误信息

---

**测试时间**: _________  
**测试人员**: _________  
**测试结果**: ⬜ 全部通过 / ⬜ 部分通过 / ⬜ 未通过

